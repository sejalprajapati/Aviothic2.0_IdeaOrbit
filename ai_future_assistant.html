<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Hologram Voice Assistant</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  margin: 0;
}
.container {
  width: 90%;
  max-width: 700px;
  background: rgba(0,0,0,0.6);
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  position: relative;
}
h2 { color: #00ffff; }
input, textarea, select {
  width: 100%;
  padding: 10px;
  margin: 10px 0;
  border-radius: 8px;
  border: 1px solid #00ffff;
  background: rgba(255,255,255,0.1);
  color: #fff;
}
button {
  padding: 10px 20px;
  border: none;
  border-radius: 10px;
  background: #00ffff;
  color: black;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
}
button:hover { background: #00cccc; }
.chat-box {
  border: 1px solid #00ffff;
  height: 300px;
  overflow-y: auto;
  padding: 10px;
  border-radius: 10px;
  margin-top: 15px;
  background: rgba(255,255,255,0.05);
  text-align: left;
  color: #00ffff;
}
.user-msg { text-align: right; color: #ffb347; margin: 5px; }
.ai-msg { text-align: left; color: #00ffff; margin: 5px; }

.holo-container {
  position: relative;
  width: 300px;
  height: 400px;
  margin: 0 auto 10px;
}
#assistantPhoto {
  width: 100%;
  height: 100%;
  border-radius: 15px;
  filter: drop-shadow(0 0 30px cyan) brightness(1.2);
  animation: pulse 2s infinite alternate;
  object-fit: cover;
}
@keyframes pulse {
  0% { opacity: 0.7; box-shadow: 0 0 20px cyan; transform: rotateX(5deg) rotateY(5deg); }
  50% { opacity: 1; box-shadow: 0 0 50px cyan; transform: rotateX(10deg) rotateY(10deg); }
  100% { opacity: 0.7; box-shadow: 0 0 20px cyan; transform: rotateX(5deg) rotateY(5deg); }
}
.holo-lines {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(0,255,255,0.1) 0px,
    rgba(0,255,255,0.2) 2px,
    rgba(0,255,255,0.05) 4px
  );
  animation: scan 2s linear infinite;
  pointer-events: none;
  border-radius: 15px;
}
@keyframes scan {
  0% { transform: translateY(0); }
  100% { transform: translateY(100%); }
}
#micBtn {
  margin-top: 15px;
  background: #ff4081;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: auto;
  margin-right: auto;
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}
#micBtn:hover { background: #e91e63; }
</style>
</head>
<body>

<div class="container">
  <!-- Form Section -->
  <div id="formSection">
    <h2>âœ¨ Create Your AI Hologram Assistant âœ¨</h2>
    <input type="text" id="name" placeholder="Enter assistant's name" required>
    <select id="mood">
      <option value="calm">Calm</option>
      <option value="energetic">Energetic</option>
      <option value="funny">Funny</option>
      <option value="formal">Formal</option>
    </select>
    <textarea id="description" placeholder="Write about the person or their memories..." rows="4"></textarea>
    <input type="file" id="photo" accept="image/*">
    <button onclick="createAssistant()">Create Assistant</button>
  </div>

  <!-- Assistant Section -->
  <div id="assistantSection" style="display:none;">
    <div class="holo-container">
      <img id="assistantPhoto" src="" alt="Assistant Hologram">
      <div class="holo-lines"></div>
    </div>
    <h2 id="assistantTitle"></h2>
    <div class="chat-box" id="chatBox"></div>
    <button id="micBtn" onclick="startListening()">ðŸŽ¤</button>
  </div>
</div>

<script>
let assistantName = "";
let assistantMood = "";
let assistantMemory = [];
let chatBox = document.getElementById("chatBox");

function createAssistant() {
  assistantName = document.getElementById("name").value || "AI Friend";
  assistantMood = document.getElementById("mood").value;
  let description = document.getElementById("description").value;
  assistantMemory = description.split(/[.!?]/).filter(s => s.trim() !== "");

  let photoFile = document.getElementById("photo").files[0];
  if(photoFile){
    let reader = new FileReader();
    reader.onload = e => document.getElementById("assistantPhoto").src = e.target.result;
    reader.readAsDataURL(photoFile);
  } else {
    document.getElementById("assistantPhoto").src = "https://via.placeholder.com/300x400.png?text=Hologram";
  }

  document.getElementById("formSection").style.display = "none";
  document.getElementById("assistantSection").style.display = "block";
  document.getElementById("assistantTitle").innerText = assistantName;

  aiSpeak(`Hi, Iâ€™m ${assistantName}. ${description ? "I remember that " + description : "Iâ€™m here to talk with you."}`);
}

function aiSpeak(text){
  let msgDiv = document.createElement("div");
  msgDiv.className = "ai-msg";
  msgDiv.innerText = text;
  chatBox.appendChild(msgDiv);
  chatBox.scrollTop = chatBox.scrollHeight;

  let utter = new SpeechSynthesisUtterance(text);
  if(assistantMood === "calm"){ utter.rate = 0.8; utter.pitch = 1; }
  else if(assistantMood === "energetic"){ utter.rate = 1.3; utter.pitch = 1.2; }
  else if(assistantMood === "funny"){ utter.pitch = 1.6; utter.rate = 1.1; }
  else if(assistantMood === "formal"){ utter.rate = 1; utter.pitch = 0.9; }
  speechSynthesis.speak(utter);
}

function startListening(){
  let recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = 'en-US';
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;
  recognition.start();

  recognition.onresult = event => {
    let userText = event.results[0][0].transcript;
    let userDiv = document.createElement("div");
    userDiv.className = "user-msg";
    userDiv.innerText = userText;
    chatBox.appendChild(userDiv);
    chatBox.scrollTop = chatBox.scrollHeight;

    let aiResponse = generateAIResponse(userText);
    aiSpeak(aiResponse);
  }

  recognition.onerror = e => console.error("Speech recognition error:", e.error);
}

function generateAIResponse(userText){
  let relatedMemory = assistantMemory.find(m => userText.toLowerCase().includes(m.split(" ")[0]?.toLowerCase()));
  let memorySnippet = relatedMemory || assistantMemory[Math.floor(Math.random() * assistantMemory.length)] || "";

  let response = "";
  if(userText.toLowerCase().includes("hello") || userText.toLowerCase().includes("hi")){
    response = `Hey there! Iâ€™m ${assistantName}. ${memorySnippet ? "Remember, " + memorySnippet : ""}`;
  } else if(userText.toLowerCase().includes("how are you")){
    response = `I'm feeling quite ${assistantMood} today. ${memorySnippet}`;
  } else if(userText.toLowerCase().includes("remember")){
    response = `Yes, I remember! ${memorySnippet}`;
  } else {
    response = `${memorySnippet ? memorySnippet + ". " : ""}You said: "${userText}". Interesting!`;
  }

  if(assistantMood === "funny") response += " ðŸ˜‚";
  else if(assistantMood === "energetic") response = response.toUpperCase() + "!";
  else if(assistantMood === "calm") response = "Hmm... " + response;

  return response;
}
</script>

</body>
</html>
